:where(.theme-neomorphism) {
	/*
		All buttons
	*/
	.button-cta,
	.button-plain,
	.button-outlined {
		/* Interaction */
		padding-block: 1px;

		&.button--pressed,
		&[aria-current],
		&:active:not([aria-disabled=true], :has(:disabled)) {
			padding-block: 2px 0px;
		}

		/* Disabled */
		&:is([aria-disabled=true], :has(:disabled)) {
			--button-shadow: 0 1px 2px -1px rgb(0 0 0 / 20%);

			/* color: var(--palette__neutral); */
			cursor: not-allowed;
			filter: grayscale(100%);
			opacity: 60%;
		}
	}

	.button-cta {
		--button-shadow: 0 1px 2px rgb(0 0 0 / 20%);

		height: 3rem;
		padding-inline: 1rem;
		border-radius: .25rem;
		color: var(--palette__text--inverted);
		background-color: var(--palette__accent-background);
		background-image: linear-gradient(to bottom, rgb(255 255 255 / 10%), rgb(0 0 0 / 10%));
		box-shadow:
			var(--button-shadow),
			var(--button__focus-shadow, 0 0 #0000);

		&.button--disabled {
			--button-shadow: 0 0.75px 1.5px rgb(0 0 0 / 20%);
		}

		&.button--hover,
		&:hover:not([aria-disabled=true], :has(:disabled)) {
			background-color: hsl(from var(--palette__accent-background) h s calc(l * .8));
		}
		
		&.button--pressed,
		&[aria-current],
		&:active:not([aria-disabled=true], :has(:disabled)) {
			background-image: linear-gradient(to bottom, rgb(255 255 255 / 4%), rgb(0 0 0 / 4%));
			box-shadow:
				inset 0 1px var(--button__inner-shadow-blur) rgb(0 0 0 / var(--button__inner-shadow-opacity)),
				var(--button__focus-shadow, 0 0 #0000);

			--button__inner-shadow-blur: 2px;
			--button__inner-shadow-opacity: 25%;

			:where(.scheme-dark) & {
				--button__inner-shadow-opacity: 60%;
			}
		}
	}

	/*
		Outlined
	*/
	.button-outlined {
		--button-shadow: 0 .75px 2px rgb(0 0 0 / 20%);

		height: 3rem;
		padding-inline: 1rem;
		border-radius: .25rem;
		color: var(--palette__accent-color);
		background-color: var(--panel__background-color);
		background-image: linear-gradient(to bottom, rgb(255 255 255 / 8%), rgb(0 0 0 / 4%));
		box-shadow:
			var(--button-shadow),
			var(--button__focus-shadow, 0 0 #0000);

		&.button--disabled {
			--button-shadow: 0 0.75px 1.5px rgb(0 0 0 / 20%);
		}

		&.button--hover,
		&:hover:not([aria-disabled=true], :has(:disabled)) {
			color: var(--palette__accent-contrast);
		}

		&.button--pressed,
		&[aria-checked],
		&[aria-current],
		&:active:not([aria-disabled=true], :has(:disabled)) {
			color: var(--palette__accent-contrast);
			background-color: var(--palette__accent-color--bright);
			background-image: linear-gradient(to bottom, rgb(255 255 255 / 2%), rgb(0 0 0 / 2%));
			box-shadow:
				inset 0 1px var(--button__inner-shadow-blur) rgb(0 0 0 / var(--button__inner-shadow-opacity)),
				var(--button__focus-shadow, 0 0 #0000);
		}

		--button__inner-shadow-blur: 2px;
		--button__inner-shadow-opacity: 25%;

		:where(.scheme-dark) & {
			--button__inner-shadow-opacity: 50%;
		}
	}

	/*
		Plain
	*/
	.button-plain {
		color: var(--palette__accent-color);
		box-shadow: var(--button__focus-shadow, 0 0 #0000);

		&.button--hover,
		&:hover:not([aria-disabled=true], :has(:disabled)) {
			color: var(--palette__accent-contrast);
		}
	}

	/*
		Variants
	*/
	.button--round {
		border-radius: 99px;
		padding-inline: 1px;
		aspect-ratio: 1;

		/* Ensure button doesn't grow horizontally */
		overflow: hidden;
	}

	.button--small {
		/* Content */
		padding-inline: .75rem;

		/* Text */
		font-size: .875rem;
		height: 2.5rem;
	}
}
